<app-navbar></app-navbar>

<div class="container my-5">
  <h1 class="title">Liste des Groupes</h1>
  
  <!-- Barre de recherche améliorée -->
  <div class="search-bar">
    <input type="text" [(ngModel)]="searchText" placeholder="Rechercher un groupe..." />
  </div>
  
  <!-- Boutons d'action -->
  <div class="action-row">
    <div class="same">
      <button class="btn-add" routerLink="/addgroup">
        <i class="fas fa-plus"></i> Ajouter un Groupe
      </button>
    </div>
  </div>

  <!-- Conteneur de cards -->
  <div class="grid-card-container">
    <!-- Boucle sur les groupes filtrés -->
    <div class="fancy-card" *ngFor="let groupe of filteredGroupes">
      <div class="card-body">
        <!-- Titre (nom du groupe) -->
        <h3 class="card-title">{{ groupe.nom }}</h3>

        <!-- Informations sur le groupe -->
        <p class="card-group"><i class="fas fa-graduation-cap"></i> Promotion: {{ groupe.promotion }}</p>
        <p class="card-group"><i class="fas fa-calendar-alt"></i> Semestre: {{ groupe.semestre }}</p>
        <p class="card-group"><i class="fas fa-map-marker-alt"></i> Site: {{ groupe.site }}</p>

        <!-- Boutons d'action -->
        <div class="card-actions">
          <a [routerLink]="['/updategroup', groupe.id]" class="btn-action btn-correct">
            <i class="fas fa-edit"></i>
            <span>Modifier</span>
          </a>
          <button class="btn-action btn-delete" (click)="deleteGroupe(groupe.id)">
            <i class="fas fa-trash"></i>
            <span>Supprimer</span>
          </button>
        </div>
      </div>
    </div>

    <!-- Message si aucun groupe trouvé -->
    <div *ngIf="filteredGroupes && filteredGroupes.length === 0" class="no-evaluations">
      <p>Aucun groupe trouvé.</p>
    </div>
  </div>
  
  <!-- Pagination -->
  <div class="pagination-controls">
    <div class="pagination-buttons">
      <button class="btn-pagination" (click)="previousPage()" [disabled]="currentPage === 1">
        <i class="fas fa-chevron-left"></i> Précédent
      </button>
      <button class="btn-pagination" (click)="nextPage()" [disabled]="currentPage === totalPages">
        Suivant <i class="fas fa-chevron-right"></i>
      </button>
    </div>
    <div class="pagination-info">
      Page {{ currentPage }} sur {{ totalPages }}
    </div>
  </div>
</div>