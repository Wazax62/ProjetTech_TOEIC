<app-navbar></app-navbar>

<div class="container">
  <h1 class="title"><i class="fas fa-calendar-plus title-icon"></i>Liste des Semestres</h1>
  
  <!-- Barre de recherche améliorée -->
  <div class="search-bar">
    <input type="text" [(ngModel)]="searchText" placeholder="Rechercher un semestre..." />
  </div>
  
  <!-- Bouton d'ajout -->
  <div class="action-row">
    <div class="same">
      <button class="btn-add" routerLink="/addsemestre">
        <i class="fas fa-plus"></i> Ajouter un Semestre
      </button>
    </div>
  </div>

  <!-- Conteneur de cards -->
  <div class="grid-card-container">
    <!-- Boucle sur les semestres filtrés -->
    <div class="fancy-card" *ngFor="let semestre of filteredSemestres">
      <div class="card-body">
        <!-- Titre (nom du semestre) -->
        <h3 class="card-title">{{ semestre.nom }}</h3>

        <!-- Informations sur le semestre -->
        <p class="card-group"><i class="fas fa-graduation-cap"></i> Promotion: {{ semestre.promotion }}</p>
        <p class="card-group"><i class="fas fa-map-marker-alt"></i> Site: {{ semestre.site }}</p>

        <!-- Boutons d'action -->
        <div class="card-actions">
          <a [routerLink]="['/updatesemestre', semestre.id]" class="btn-action btn-correct">
            <i class="fas fa-edit"></i>
            <span>Modifier</span>
          </a>
          <button class="btn-action btn-delete" (click)="deleteSemestre(semestre.id)">
            <i class="fas fa-trash"></i>
            <span>Supprimer</span>
          </button>
        </div>
      </div>
    </div>

    <!-- Message si aucun semestre trouvé -->
    <div *ngIf="filteredSemestres && filteredSemestres.length === 0" class="no-evaluations">
      <p>Aucun semestre trouvé.</p>
    </div>
  </div>
  
  <!-- Pagination -->
  <div class="pagination-controls">
    <div class="pagination-buttons">
      <button class="btn-pagination" (click)="previousPage()" [disabled]="currentPage === 1">
        <i class="fas fa-chevron-left"></i> Précédent
      </button>
      <button class="btn-pagination" (click)="nextPage()" [disabled]="currentPage === totalPages">
        Suivant <i class="fas fa-chevron-right"></i>
      </button>
    </div>
    <div class="pagination-info">
      Page {{ currentPage }} sur {{ totalPages }}
    </div>
  </div>
</div>